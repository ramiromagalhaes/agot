<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>AGoT JS tests page</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.js" type="text/javascript"></script>
<script src="classes.js" type="text/javascript" charset="UTF-8"></script>
<script src="objects-houses.js" type="text/javascript" charset="UTF-8"></script>
<script src="objects-westeros-wildlings.js" type="text/javascript" charset="UTF-8"></script>
<script src="objects-board.js" type="text/javascript" charset="UTF-8"></script>
<script src="objects.js" type="text/javascript" charset="UTF-8"></script>

<script type="text/javascript" charset="UTF-8">//<![CDATA[
function log(text) {
	var el = document.createElement('div');
	el.textContent = text;
	document.documentElement.appendChild(el);
}



var game = new Game(1, 3);



//Players
var p1 = new Player('P1', stark);
var p2 = new Player('P2', lannister);
var p3 = new Player('P3', baratheon);
var p4 = new Player('P4', greyjoy);
var p5 = new Player('P5', tyrell);
var p6 = new Player('P6', martell);

//Game
//var game = new Game(1, 3);
game.addPlayer(p1);
game.addPlayer(p2);
game.addPlayer(p3);



var gameStats = new GameStats();
gameStats.supply.rank = new Array(
	null,
	[lannister],
	[stark],
	[baratheon],
	null,
	[],
	null
);
gameStats.setSupply(0, lannister);
gameStats.setSupply(0, baratheon);
gameStats.setSupply(5, stark);
gameStats.setSupply(1, lannister);
gameStats.setSupply(0, baratheon);
gameStats.setSupply(2, lannister);
gameStats.setSupply(1, stark);
gameStats.setSupply(3, lannister);
gameStats.setSupply(5, stark);
gameStats.setSupply(4, lannister);
gameStats.setSupply(6, baratheon);
gameStats.setSupply(5, lannister);
gameStats.setSupply(6, baratheon);
gameStats.setSupply(6, lannister);

log(gameStats.getSupplyOfHouse(stark) === 5);
log(gameStats.getSupplyOfHouse(lannister) === 6);
log(gameStats.getSupplyOfHouse(baratheon) === 6);

var stateMachine = new GameStateMachine(game);
stateMachine.currentState = new Setup3PlayerGame();
stateMachine.fireEvent('start');

log(game.gameStats.ironThrone.getRank()[0].name == baratheon.name);
log(game.gameStats.ironThrone.getRank()[1].name == lannister.name);
log(game.gameStats.ironThrone.getRank()[2].name == stark.name);

/*
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
stateMachine.fireEvent('start');
log(stateMachine.currentState.name);
*/

//]]></script>

</head>
<body id="body">
</body>
</html>

